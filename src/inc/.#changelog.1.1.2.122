7/19/2012
	- Changed the way of embedding into NaN. Actually he previous one was wrongly mapped to subnormals, not to NaN.
	- Scoping of the local symbol of With is modified to handle nested With's.
	- Scoping of the argument of Function is modifyed to handle nested Function's.
	
7/20/2012
	- Notation a&b is now interpreted as Function[a, b];

7/212012
	- A bug in tfvars was corrected.
	- Scoping is restricted only for local symbols of With and Fnction, 
	not for arguments of a function and module local variables.
	- Some of NaN's generated by arithmetics may conflict with objects. Arithmetics may generate different patterns for NaN.

7/22/2012
	- Mapping was again changed to handle NaN as a Real.
	- Some internal symbols such as iaxfailed ($Failed) are treated as obejcts kxfailed.
	- MemoryCheck is modified to check contexts.
	- Wrong coding to generate Out was corrected.
	- tfcomposeoper is changed to take care of a@b ... I wonder why it has been ignored...
	- Now it looks to be able to run bench2.sad .
	
7/23/2012
	- Scoping for With has been modified again.
	- Generation of NaN in qbend is suppressed.
	- value setting of elemnts in FFS has been re-enabled.
	
7/24/2012
	- A bug in itforderl is corrrected to handle real lists properly.
	- tfdapert is corrected to take damp ... why did it return to the old one without damp?
	- resetting kerror is unified to tfreseterror.
	- And[], Or[] with 0 arguments.
	- A bug in FitValue for two points was corrected.
	- A minimum value, 1e-12, is set for Tolerance of LinearSolve.
	- A few places where tfree is called with int4 arg were corrected.
	- ktrsvaloc is introduced to allocate permanent objects such as name table, etc.
	
7/25/2012
	- Inverse renormalizes the matrix to correct the invalance of rows and columns.
	- A small tweak in tfsortl to eliminate ktaloc.
	
7/30/2012
	- Removed undefined variables in many .f sources.
	
8/2/2012
	- Removed italoc from some routines.
	- Introduced ktalocr, etc. to allocate perpament object from reserved area.
	
8/3/2012
	- A bug in XListFonts was corrected.
	
8/5/2012
	- Patched a hall found in tfree for a segment with size less than 7.
	- A bug in calculating power of a negative number was fixed.

8/7/2012
	- The behavior of Return in Do was corrected (return to upper function call).
	
8/12/2012
	- A bug in USE (tfbeamlife.f) was corrected.

8/14/2012
	- tfquotestring had a problem of string substitution.

8/15/2012
	- Use unicode for Xft. tfTclArg does the translation from "KG" sequence.
	- Overline (bovl) in tkFont.c has been inhibited, as it causes an error with TkCanvText & Xft.

8/16/2012
	- initial value of drawX in Tk_KGDrawTextLayout is set to 0 to avide an error in TkCanvText.
	
8/17/2012
	- The wake support has been corrected. It now works, hopefully.
	- The length of pat is reduced to 9 from 10.
	
8/18/2012
	- Removed unnnecessary ktfcopy in tfmodule.f.
	- irtc is changed to -1 for too long string while printing to an actual file in flushstringbuf.
	- Removed 'rc' functions to use recursve declatrations.
	- Corrected some integer*4 in itfaloc.
	- Use lmalloc8 instead of mfalloc in talocp.

8/19/2012
	- Removed a few unused routines.
	- Fixed bugs related to CODPLOT/EMIT.
	- Implicit none for tffsa.

8/21/2012
	- Change jtastk to itastk in tfeval.
	- removed more unused variables.
	
8/23/2012
	- A new function Attributes has been installed.
	- itfunaloc unified the symbol and function definition table.
	- An attribute OrderLess has been introduced for general functions.
	
8/25/2012
	- ktaloc has been simplified using a boundary area after an allocated page.
	- KBMainFrame's messages to use Message.
	- Bugs in While, Cases, tfearray have been corrected.
	- removed transfer intrinsic further.

8/26/2012
	- corrected remained 'ntf' keywords in tfefun3ep, tfsameq, tfwrite, tspac
	- corrected a bug in cascaded Power.
	- reduced compiler warnings for implicit type conversions.
	- PlotInterpolate was modified to handle MaxBend properly.
	- itfextendstringbuf goes to integer*8
	
8/28/2012
	- corrected the evaluation of Symbol overridden by Block and Table, etc.
	
8/29/2012
	- Protect, Immediate, Numerical are moved to Attributes.
	- convert a few commons to MODULE.
	- inc/MACPARAM.inc has been created, separated from MACCBK.inc
	
8/30/2012
	- change the way to access icGLR. icGLI becomes nonaccessible.
	- Module checks the equal number of local symbols and their values in the list assignment.

9/1/2012
	- TFSTK.inc moved to tfstk.f as a MODULE.
	- tfconstqk uses ktfconstantq, looking attribute Constant.
	- TFCBK.inc also moved into tfstk.f as a MODULE.
	- defined type sad_symbol and sad_string.
	- apply some array operations.
	
9/3/2012
	- A bug in Twiss, calculating fraction of a component.
	- ktfcopy1 has moved to TFSF.inc
	- ktftype has been introduced in TFSF.inc

9/4/2012
	- itfdownlevel has been simplified
	- corrected a bug in opcodehash to always initialize.
	- corrected a bug in qfraccomp (created on 9/1).
	- TFMEM.inc moved to MODULE tfmem.
	- fixed a bug in replacesymbolstk since 9/1.
	
9/5/2012
	- fixed bugs in CaSearch, CaSearch2, tfepicsconstabcb, etc.
	- a new MODULE casym has been introduced.
	- argument kh of tfdeval can be int8(0) if it is the defined symbol itself.
	
9/6/2012
	- continued to fix bugs related to EPICS.
	- added Element$P to cache Element.
	- support CONVCASE in Element and LINE.
	
9/8/2012
	- evalwitharg was changed to avoid crelistm, ktaloc.
	- converted some computed go to's into select cases.
	- restructured tfseval.
	- fixed MaxBend in Plot to go an infinite loop.

9/9/2012
	- modified tffindroot to avoid irregular NaN, etc.
	- fixed an issue of GetMAIN to destruct the currently used LINE.
	- replaced TFFSLOCAL.inc and TFFITCODE.inc by MODULEs ffslocal and tffitcode..
	
9/11/2012
	- cvs update -jSAD_1_0_10_5_5a32 -jSAD_1_0_10_5_5a34
	 * Synchronize build framework with r4007
	  + Drop GCC support for 4.2.x or prior
	  + Drop HP-UX, OSF1 support
	 * Synchronize patch kit
	  + Update libtai patch kit for ISO C99
	  + Support Tcl/Tk 8.5.11 and 8.5.12
	 * Synchronize builtin extensions
	  + Follow build framework update
	  + Fix compiler warnings
	 * Remove backslash escape extension dependency
	  + Remove backslash escape
	  + Replace control character to C_* variable of ISO_C_BINDING module
	- introduced derived types sad_symdef, sad_fun, sad_pat to rewrite using c/fortran pointers.
	
9/12/2012
	- cvs update -jSAD_1_0_10_5_5a34 -jSAD_1_0_10_5_5a35
	 * Replace lnblnk with ISO Fortran standard len_trim
	- cvs update -jSAD_1_0_10_5_5a35 -jSAD_1_0_10_5_5a36
	 * Remove RCS Header tags
	- cvs update -jSAD_1_0_10_5_5a36 -jSAD_1_0_10_5_5a37
	 * Update document/configuration sample
	 * Introduce OPT_COPT
	
9/13/2012
	- introduced new derived types sad_namtbl and some pointer handling functions ksad_loc, isad_loc,
	namtbl_loc, pat_loc, sym_loc, and symdef_loc.

9/15/2012
	- introduced derived types sad_deftbl and sad_defhash with subroutines deftbl_loc, sym_symdef, defhash_loc.
	- sym%loc now points to ksad_locloc(symdef%next).
	- modified loc functions to remove offset of the arguments.
	- replace MACCBK.inc with a MODULE maccbk, removing equivalences.
	
9/16/2012
	- rewrite ffsv to separte initialization of pointers.
	- some m- and p-files are cancatenated into mbpm.f and palgn.f, respectively.
	- fixed some mistakes in tfDynamicLink_.c
	- introduced a new type sad_list and a function list_loc.
	- fixed a bug in orderless matching.
	
9/17/2012
	- Alternatives now returns proper results when # of arguments < 2.
	- More conversions to sad_list type.

9/18/2012
	- cvs update -jSAD_1_0_10_5_5a37 -jSAD_1_0_10_5_5a38
	 * Cleanup Tck/Tk patchkit
	
9/19/2012
	- A bug in tfcleardef to confuse 'def' and 'dtbl' was corrected.

9/20/2012
	- introduced a new type sad_strbuf with a new module strbuf to include routines for stringbuf.
	- fixed a bug in FromCharacterCode to destruct the stack contents.

9/21/2012
	- fixed a bug to make argument symbols unsolved in some cases of function evaluation.
	- substrings are evaluated immediately if possible.
	- fixed a bug to leave defhash%hash(0) uninitialized.
	- use more sad_lists.
	
9/23/2012
	- reverted the way of itfdownlevel, which was introduced on 9/4, to avoid issues with varying objects during evaluation, such as a={1,2,3,4};{a,a[[2]]=-1,a} .

9/24/2012
	- reverted again itfdownlevel, by modifying tfconnect and tfsyeval. It should work for varying objects...
	- SetPart now accepts setting to a definition, such as f[1][[2]] = 1 .
	- modified tfdset's arguments.
	- more sad_list, sad_symdef.
	
9/25/2012
	- changed SetPart, ReplacePart, etc. to avoid unnecessary copying.
	- moved all functions in TFSF.inc to MODULE tfstk.
	- removed ivstkoffset by introducing itastk2, etc.

9/26/2012
	- use ktfref for the original body of definition if compile is not necessary.
	- introduced a new type sad_rlist and rlist_loc.
	- introduced a new MODULE opdata .
	- reduced appearance of ()'s in string representations of expressions to be more readable.
	- modified tfdot.f by using sad_list, sad_rlist, etc. Det might have a bug.

9/27/2012
	- abandoned sad_rlist by introducing sad_list%rbody to represent the real component of sad_list.
	
10/1/2012
	- rewrote tfdot to exclude unnecessary allocation.
	
10/2/2012
	- Fix to return correct character codes for code point 0x80-0xff
	- fixed a bug in tfintersection.
	- modified tfsprt.f by sad_list.

10/3/2012
	- modifiled tfreplacesymbolstk.
	- fixed a bug in StringFill.
	- replaced tfclonelist by tfduplist in FindRoot.
	- modified tfsorti to take the generation of symbol into account

10/4/2012
	- fixed an undefined variable iut in tffsmatch.
	
10/6/2012
	- appendto is accelerated by a list longer than the number of elements.
	- two numbers lenp and lena defined in sad_list to denote the number of extendable words for PrependTo and AppendTo. 
	- Functions Append and Prepend become defined functions to have an automatic conversion to AppendTo and PrependTo.
	
10/7/2012
	- accelerated appendto to a part of a list.
	- modified tfreplacemember to use tfmatchsymstk.

10/8/2012
	- added dummy(11:10) to sad_symdef.
	- list%rbody(1:0).
	- modified ksad_loc.
	- rewrote using more sad_symbols.
	- many of functions ***_loc are renamed to loc_***.
	- a new module tfform to contain $FORM and PageWidth.

10/9/2012
	- ktflistq takes an optional argument ot return sad_list pointer if true.
	
10/10/2012
	- ktaaloc,ktavaloc,ktadaloc,tflistqk,tfnonlistqk are moved to tfstk, taking an optional argument to return the sad_list pointer.
	
10/11/2012
	- Support Unicode character literal
	- Split Tcl/Tk interpreter related symbols into TkinterCore.n
	- tfmodule is changed: redefsymbol is no longer called.
	- ktnaloc returns the ksad_loc of def%sym%loc.
	- a new type sad_complex and a function ktfcomplexqx are introduced.
	- Improve adobe-symbol to Unicode mapping on TclArg[]
	
10/13/2012
	- tfsymbollist to check a list contains a symbol to make replacesymbol as well as Module faster.
	- corrected a bug in tfefundef.

10/14/2012
	- added dummy routines to some files with INCLUDE to avoid a stupid phnomenon of missing source lines with gcc on some system.
	
10/15/2012
	- removed flags all and sort from tfreplacesymbolstk.
	- The generation number is taken into accout in Sort, Order.
	- namtbl_loc is renamed to loc_namtbl

10/17/2012
	- tried to solve a confusion beween tfsetpat and tfresetpat.
	- changed tfreplacedef to simplify argument substitution.
	
10/18/2012
	- renamed tfsetpat and tfresetpattbl to tfunsetpat and tfunsettbl, respectively.
	- corrected Send in Tkinter to avoid command evaluation before sending.
	- corrected tfcleardef and tfdefheadq to correctly handle clearing partial definition such as Clear[A[1]].

10/19/2012
	- changed the definition of a symbol representing a context. The binary content has been hidden.
	
10/20/2012
	- temap was rewritten using an "array of pointers".
	- rewrote some routines of tfstk to avoid ktfaddr.
	- redmath is defined in tfstk as a sad_symdef.
	- ktfcompose & ktfsymbolz moved to tfstk.
	- introduced generic subroutines sad_loc & loc_sad.

10/21/2012
	- corrected bugs in expandbeamline and SetElement to cause invalid memory accesses.
	- corrected the origin for mapalloc8 in tffscalc.
	
10/23/2012
	- corrected oversuppression of errors in tfeval which made a syntax like "DISP ^^^" invalid.
	
10/29/2012
	- put implicit none in qdthin.
	
10/30/2012
	- corrected an error in tsole in storing orbit data.
	- setting to a form like a[1,2] = 3, when a contains a list, is made valid again.
	- use nlat instead of a strange constant length (6000) for TouschekTable[[4]].

10/31/2012
	- make DZI a valid matcing variable.
	- corrected a wrong length of beam line (idx1) to allocate in tfbeamline.
	- put implicit none in tsetg.

11/1/2012
	- added extrapolation to TouschekLifetime below the minimum calculated acceptance, assuming a quadratic dependence on the aperture.
	- corrrected a bug in temape giving a list without ktflist.
	- corrected a bug in tfsetplot alloccating too big list for cod.
	- corrected a bug in temap introduced during the change for temape above.

11/2/2012
	- rewrote routines using more sad_lists.
	- corrected bugs in tlspect.
	- tsetg is included in tfgeo.f.
	
11/3/2012
	- moved tfmatrixmaybeq to tfstk.

11/4/2012
	- re-defined tfreplacedefarg to define class methods which use instance symbols as argument pattern symbols.

11/7/2012
	- Rule in D$ to replace -0 with 0.
	- The unit of character in the output of DAPERT is set to 10 turns/char if nturn is less than 61.
	- corrected an old bug on calculating Bz/Brho in TRPT which scaled by the momentum ratio to the entrance twice.
	
11/8/2012
	- Added BeamstrahlungUpsilon, BeamstrahlungNGamma, BeamstrahlungDeltaGamma in emit.n
	- Tweaked tcod for better convergence with RADCOD. Also absorb cod(5) in trf0.

11/10/2012
	- corrected a bug in expansion of elements if the name matches different types, such as 's* dx 0'.
	- The concept 'touched variables' may be just inducing confusion ...
	- rewrote tffsadjust to avoid ktaloc.
	- A new flag ORBITCAL to suppress orbit calculation in CALC.
	
11/11/2012
	- corrected a bug in tfrestrict to confuse a real and non-real arrays.
	- corrected a bug in tfreplacepart to leave seqences unsolved in the result.
	- utilized sad_descriptor in symdef%value.
	
11/14/2012
	- tfrebuildl looks anly cloned lists.

11/15/2012
	- moved ktfcopy to tfstk.
	- utilized sad_descriptor in sad_pat, sad_deftble.
	- defined dtastk, dtastk2 for sad_descriptor stack.
	
11/16/2012
	- more sad_descriptors in many routines.
	
11/17/2012
	- rewrote tfsameq using objects.

11/19/2012
	- more sad_descritors in itfdepth.f, itfaloc.f, etc.
	- kxsycopy is moved to tfstk as dxsycopy.
	- introduced tfconnect, moved tfconnectk and tfconnectk1 to tfstk.
	
11/21/2012
	- renamed ktfsymbolqd to ktfsymbolqdef.
	- more sad_descriptors in routines.
	
11/22/2012
	- more sad_descriptors in tfdot.sad, tfstk.
	
11/23/2012
	- more sad_descriptors.
	
11/25/2012
	- more sad_descriptors.
	- moved ktaalocsp and ktfnumlistqnk to tfstk.
	- corrected bugs in tfsetpart, tffindroot, Conjugate.
	
11/26/2012
	- more sad_descriptors.
	- removed an obsolete arg kh and related routines from tfdeval.
	- defined a member 'istr' in sad_string to represent ichar(str).
	- improved tfsingularvalues to eliminate allocation.
	- corrected the use of tfgetdefargp to handle list-head in appendto.
	
11/28/2012
	- more sad_descriptors.
	- new procedures sym_symstr, loc_symstr, descr_sad in tfstk.
	- fixed a bug in tocontext.

11/30/2012
	- removed ktfsymstr.
	- a new module findr and a new type symv to contain variables for Fit.
	- introduced tfmatrixq and $Matrix for matrix operation.

12/1/2012
	- corrected mishandling of ordless in tfdset.

12/2/2012
	- Defined a new function RealListQ.
	- started to define $Matrix in Matrix.n (incomplete).
	- modified tfdelete to use symdef as the first argument.
	- fixed a bug in StringPosition.

12/3/2012
	- Corrected a bug in Power on lists.

12/4/2012
	- Moved tfnumberqk to tfstk as tfnumberqd.
	- Rewrote tfecmplxl.
	- fixed a bug in tfflagordef.
	
12/6/2012
	- fixed a bug in tfearray to forget setting irtc=0.
	- corrected some confusions between ktflistq and tflistq.
	- fixed a bug in tfprint1 to ignore the case irtc=-1.
	- fixed a bug to have used tfnonrealq instead of tfrealq in tfevalfit1.
	
12/8/2012
	- fixed a bug in StringJoin to have fogot to set kx, when all args are symbol.
	- fixed a bug in tfappend to wrongly set listx%attr.
	- fixed an obsolete reference of vstk(ivstoffset+..) in tfDateTAI.

12/9/2012
	- fixed a bug to ignore RepeatedNull in itfseqm.
	- moved ktpfaloc to tfstk as kxpfaloc.
	- moved ktpaloc, ktpalocb, ktpcopyss to tfstk as kxpaloc, kxpalocb, kxpcopyss.
	- added an option Derivative -> Periodic in Spline for a periodic solution.

12/10/2012
	- replaced the peiodic spline with a better algorithsm.
	- modified PlotInterpolate for a better decision on the subdivision, and taking the number of points of SplineData into account.

12/11/2012
	- modified tqr to avoid returning NaN.
	- corrected a bug in tturne since before k64 to have wrongly referred non-matrix as a matrix, when cod becomes NaN and a fractional marker exists, with CODPLOT & Matrix->True.
	- removed tfgetmatrix, replaced by tfl2m.
	- corrected an inconsistent handling of Message, by putting Unevaluated$.

12/13/2012
	- removing tmov from some routines.
	- introduced sad_descriptor functions kxaaloc, kxadaloc, kxadalocnull, kxavaloc, kxmakelist, kxcompose.
	
12/14/2012
	- introduced sad_descriptor functions kxcomposev, kxcalocv, kxsalocb, kxsymbolz
	
12/15/2012
	- modified tfhead to exclude init.
	- introduced sad_descriptor function kxsymbolz to return the assigned value of a symbol.
	- abandoned ktlookup.
	- defined functions rfromd, dfromr, dfromk.
	- defined sad_descriptors dxnull,dxnulll,dxnulls

12/16/2012
	- defined more sad_descriptor functions kxnaloc, kxnaloc1, kxscopy.
	- moved tfassignrules to module findr.

12/19/2012
	- tried to use fortran's ALLOCATE for memory allocation.
	- modified tfcanonivalconv to avoid seg fault due to optimization. Similar issues may happen in other routines...
	
12/20/2012
	- added new functions mapallocshared and mapallocfixed (also ktfallocshared and tfreeshared) to mmap with MAP_FIXED flag to map/unmmap a memory area allocated by ktaloc.for shared memory. They may work for the time being, but the essential solution should be to remove italoc from the MAIN level.

12/23/2012
	- more sad_descriptors.
	
12/31/2012
	- modified tfcbkinit to have an offset for allocation.
	- modified netSemaphore.c not to use hostent_addr.
	- modified italoc to try to find allocation below 2^31.
	
1/1/2013
	- removed -h in lndir in sad.tcltk.mk. I wonder why hard links were necessary.
	- tweaked talocinit to relax issue with reverse allocation, which is seen in linux.

1/2/2013
	- more tweaks in talocinit for more robustness.
	
1/4/2013
	- corrected tfstrinliststk to hanlde arguments of message properly.
	- corrected General::`b_ in MessageName to prevent an infinite loop.
	- more sad_descriptors.
	- moved ktfstringbuftostring to strbuf as kxstringbuftostring.
	- corrected a bug in tfeintf returning zeros in the real part of the result.
	- corrected a bug in tsvdma referring unnecessary irtc.
	- corrected a bug in tfdifference with 2 args.

1/5/2013
	- corrected bugs in SurvivedParticles and tfaddseed.
	
1/6/2013
	- moved ktfcopylist, ktfargsym, ktfcomposer to tfstk as kxcopylist, axargsym, kxcomposer.
	- more sad_descriptors.

1/7/2013
	- corrected talocinit to handle fewer allocatable memory.
	
1/8/2013
	- modified tfsinglechar to adapt sad_string.
	- modified sad_string to have int8 contents str%kstr.
	- corrected some implicit type conversions.
	- modified mbmp.f, tfadjst.f  to restore implicit real*8.

1/9/2013
	- corrected more implicit type conversions.
	- restored missing implicit reals.

1/12/2013
	- corrected bugs in tfecmplxl in operating a real to a list.
	
1/14/2013
	- corrected a bug of handling Orderless in itfseqmatstk. The bug has been there before k64.
	- corrected ReductionRule in D.n for collection in Power and Times.
	- added orderless to Min, Max, and MinMax.
	
1/19/2013
	- added new keywords FB1 and FB2 to MULT to express F1 for K0.
	

# New Makefile -- OS Dependent Object Part
#
ifeq ($(BEFOREPORTMK),YES)

# Fortran Intrinsic/Library Implementation Flags
ifeq ($(HAVE_F_OPEN_DISP_OPT),YES)
OBJ_ITFOPENREAD=itfopenread.o
else
OBJ_ITFOPENREAD=itfopenread_G77.o
endif
ifeq ($(HAVE_F_FORMAT_Q_EDIT),YES)
OBJ_ITGETBUF=itfgetbuf.o
else
OBJ_ITGETBUF=itfgetbuf_PPC.o
endif

OBJ_F_LNBLNK=
ifneq ($(HAVE_F_LNBLNK),YES)
OBJ_F_LNBLNK=lnblnk.o
endif

OBJ_F_ZTAN=
ifneq ($(HAVE_F_ZTAN),YES)
OBJ_F_ZTAN=ztan.o
endif

OBJ_F_FLUSH=
ifneq ($(HAVE_F_FLUSH),YES)
OBJ_F_FLUSH=sim/flush.o
ifeq ($(OS_TYPE),HP-UX)
OBJ_F_FLUSH=sim/flush_HP.o
endif
endif

OBJ_F_GETFD=Unkown
ifeq ($(USE_F_GETFD),Dummy)
OBJ_F_GETFD=sim/getfd_Dummy.o
endif
ifeq ($(USE_F_GETFD),PXFFILENO)
OBJ_F_GETFD=sim/getfd_PXFFILENO.o
endif
ifeq ($(USE_F_GETFD),FNUM)
OBJ_F_GETFD=sim/getfd_FNUM.o
endif
ifeq ($(USE_F_GETFD),DEC)
OBJ_F_GETFD=
endif
ifeq ($(OBJ_F_GETFD),Unkown)
$(error Invalid USE_F_GETFD variable)
endif

OBJOSDEP=	FSET.o nybipipe.o \
		$(OBJ_ITFOPENREAD) $(OBJ_ITGETBUF) \
		$(OBJ_F_LNBLNK) $(OBJ_F_ZTAN) $(OBJ_F_ISNAN) \
		$(OBJ_F_FORK) $(OBJ_F_WAIT) $(OBJ_F_FLUSH) \
		$(OBJ_F_GETFD) \
		$(SYS_DEPOBJ)

endif # BEFOREPORTMK

ifeq ($(AFTERPORTMK),YES)

ifeq ($(HAVE_LIBCRYPT),YES)
ifeq ($(USE_LIBCRYPT),YES)
OPT_LIBS+= -lcrypt
endif
endif

ifeq ($(HAVE_LIBUTIL),YES)
ifeq ($(USE_LIBUTIL),YES)
OPT_LIBS+= -lutil
endif
endif

ifneq ($(OS_TYPE),CYGWIN)
OPT_LIBS+= -lm
endif

OPT_LIBS+= $(SYSDEP_LIBS) $(EXE_LIBS)

ifeq ($(OS_TYPE),CYGWIN)
ifeq ($(USE_TCLTK),YES)
ifeq ($(TCLTK_TYPE),unix)
COPT+= -U_WIN32
endif
endif
endif

endif # AFTERPORTMK
# End of File
